<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>에볼챗닷컴</title>
    <script src="../../static/js/messenger_friend.js"></script>
    <link rel="stylesheet" href="../../static/css/page/messenger/blocklists.css">
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css">
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
</head>
<body>
<div id="content-area" class="flex-grow" style="">
    <div class="wrapper bc-black vh100 ">
        <!--        <div id="header" class="header flex-row bc-header"></div>-->
        <div class="mainContent bc-main">
            <div class="sub-header flex-row flex-c white opacity60 px15">
                <div class="list active"><a href="messenger_friend">친구</a></div>
                <div class="list"><a href="messenger_message">메시지</a></div>
                <div class="list "><a href="messenger_blocklists">차단 목록</a></div>
                <div class="list"><a href="messenger_add_friend_wait">친구 추가하기</a></div>
            </div>
            <div class="sub-header flex-row flex-c">
                <div class="sub-header-search bc-footer flex-grow">
                    <input type="text" placeholder="닉네임 검색">
                    <img src="../../static/images/svg/search.svg" alt="" class="input-icon search" />
                </div>
            </div>
            <div class="mainLayer">
                <div class="user-list-layer  px15 white">
                    <div class="user-list flex-row flex-c tr">
                        <div class="profile"><img class="profile-img-52" src="../../static/images/profile/default.png" alt="#"></div>
                        <div class="user">
                            <p class="nickname opacity80">제임스뒨</p>
                            <p class="text opacity60 px14">커뮤니티-포토-아이유화보</p>
                        </div>
                        <div class="btn-wrap flex-row flex-c">
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/pins.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">고정</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/home.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">홈피</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/chat.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">메시지보내기</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/hyphenation.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">더보기</div>
                            </div>
                        </div>
                    </div>
                    <div class="user-list flex-row flex-c tr">
                        <div class="profile"><img class="profile-img-52" src="../../static/images/profile/default.png" alt="#"></div>
                        <div class="user">
                            <p class="nickname opacity80">우울한협객</p>
                            <p class="text opacity60 px14">에볼루션-스피드 바카라 1</p>
                        </div>
                        <div class="btn-wrap flex-row flex-c">
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/pins.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">고정</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/home.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">홈피</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/chat.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">메시지보내기</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/hyphenation.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">더보기</div>
                            </div>
                        </div>
                    </div>
                    <div class="user-list flex-row flex-c tr">
                        <div class="profile"><img class="profile-img-52" src="../../static/images/profile/default.png" alt="#"></div>
                        <div class="user">
                            <p class="nickname opacity80">겸댕이</p>
                            <p class="text opacity60 px14">오프라인</p>
                        </div>
                        <div class="btn-wrap flex-row flex-c">
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/pins.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">고정</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/home.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">홈피</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/chat.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">메시지보내기</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/hyphenation.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">더보기</div>
                            </div>
                        </div>
                    </div>
                    <div class="user-list flex-row flex-c tr">
                        <div class="profile"><img class="profile-img-52" src="../../static/images/profile/default.png" alt="#"></div>
                        <div class="user">
                            <p class="nickname opacity80">부끄럼쟁이</p>
                            <p class="text opacity60 px14">오프라인</p>
                        </div>
                        <div class="btn-wrap flex-row flex-c">
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/pins.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">고정</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/home.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">홈피</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/chat.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">메시지보내기</div>
                            </div>
                            <div class="icon flex-c-c cursor-p"><img src="../../static/images/svg/hyphenation.svg" alt="" style="height: auto; width: auto;" />
                                <div class="hidden">더보기</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="footer" class=" bc-footer" th:insert="include/footer">
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Apply Tippy.js to all icons in the user list
        document.querySelectorAll('.user-list .btn-wrap .icon').forEach(function (icon) {
            tippy(icon, {
                content: icon.querySelector('.hidden').textContent,
                placement: 'bottom',
                animation: 'fade',
            });
        });

        // Event listener for pin icon click to toggle pin status
        document.querySelectorAll('.user-list .btn-wrap .icon:nth-of-type(1)').forEach(function (icon) {
            icon.addEventListener('click', function () {
                var img = icon.querySelector('img');
                var userItem = icon.closest('.user-list');
                var userListLayer = document.querySelector('.user-list-layer');
                var pinsSrc = '../../static/images/svg/pins.svg';
                var goldPinsSrc = '../../static/images/svg/goldpins.svg';

                // Handle absolute and relative paths using URL object
                var imgSrc = new URL(img.src, window.location.href).pathname;
                var pinsPath = new URL(pinsSrc, window.location.href).pathname;
                var goldPinsPath = new URL(goldPinsSrc, window.location.href).pathname;

                if (imgSrc === pinsPath) {
                    img.src = goldPinsSrc;
                    // Move the item to the top of the list
                    userListLayer.prepend(userItem);
                } else {
                    img.src = pinsSrc;
                }
            });
        });
    });
</script>
</body>
</html>